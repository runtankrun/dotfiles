#!/usr/bin/env sh
dir="/run/media/ellio/T7/bdfr"
cd $dir

source ~/.scripts/system_exec/init.redhot 

# >>> conda initialize >>>
source "${HOME}"/.conda/init
conda activate bdfr
# <<< conda initialize <<<

case $1 in
    '')
        sub=$(ls $dir/fav | rofi -dmenu)
        srt=$(cat $dir/srt | rofi -dmenu)
        redhot -s $sub $srt
    ;;

    "-r"| "--refresh")
        QueryAllFiles 
    ;;

    "-d" | "--download")
        download $2
    ;;
    
    "-S" | "--search")
        query="$2"
        search
    ;;

    "-sl" | "--search-local")
        searchLocal $2
    ;;

    "-s" | "--select")
        nohup mpv --playlist-start=0 $(QuerySub "$2" "$3")
        sleep 1s; closeTerm
    ;;

    "-n" | "--notify")
        RH_MPV_Notify
    ;;
esac

