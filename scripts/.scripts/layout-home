#!/bin/sh

###########
#   Neo   #
###########
if [[ $1 = "-neo" ]]; then
## move to desktop & close windows
bspc desktop -f ^2:^2;
while bspc node 'any.leaf.local' -c; do :; done;
while bspc node 'any.leaf.!window.local' -k; do :; done;

##INSERT RECEPTACLES
bspc node @^2:^2:/ -i 
bspc node @^2:^2:/ -o .5 -p east -i
bspc node @^2:^2:/1 -o .5 -p south -i

##ADD RULES
bspc rule -a URxvt:neofetch-ascii -o node=@^2:^2:/1/1 focus=off state=pseudo_tiled
bspc rule -a URxvt:neofetch -o node=@^2:^2:/2 focus=off state=pseudo_tiled
bspc rule -a URxvt:neofetch-pic -o node=@^2:^2:/1/2 focus=off state=pseudo_tiled

##LAUNCH APPS
urxvtc -name "neofetch-ascii" -title "neofetch-ascii" -e sh -c \
'neofetch --ascii "$(figlet -f /home/ellio/.fonts/misc/figlet/alpha.flf T)"; \
zsh' &

urxvtc -name "neofetch" -title "neofetch" -e sh -c \
"neofetch --loop; \
zsh" &

c-neo -pic

###############
#   TOONAMI   #
###############
else
## move to desktop & close windows
bspc desktop -f ^2:^1; 
while bspc node 'any.leaf.local' -c; do :; done;
while bspc node 'any.leaf.!window.local' -k; do :; done;

##INSERT RECEPTACLES
bspc node @^2:^1:/ -i 
bspc node @^2:^1:/ -o 0.438895 -p east -i
bspc node @^2:^1:/1 -p south -i
bspc node @^2:^1:/1/1 -o 0.718807 -p east -i
bspc node @^2:^1:/1/1/1 -o 0.52 -p south -i
bspc node @^2:^1:/2 -o 0.298829 -p east -i
bspc node @^2:^1:/2/2 -o 0.741724 -p south -i
bspc node @^2:^1:/2/2/2 -o .52 -p east -i
bspc node @^2:^1:/2/2/2/1 -o .53 -p south -i
bspc node @^2:^1:/2/2/2/1/1 -o .52 -p east -i


##ADD RULES
bspc rule -a URxvt:ranger -o node=@^2:^1:/1/1/1/1
bspc rule -a URxvt:nvtop -o node=@^2:^1:/1/1/1/2
bspc rule -a mpv:pc -o node=@^2:^1:/1/1/2
bspc rule -a URxvt:htop -o node=@^2:^1:/1/2
bspc rule -a mpv:gifs -o node=@^2:^1:/2/1
bspc rule -a URxvt:vim -o node=@^2:^1:/2/2/1
bspc rule -a URxvt:TANK -o node=@^2:^1:/2/2/2/1/1/1
bspc rule -a URxvt:matrix -o node=@^2:^1:/2/2/2/1/2
bspc rule -a URxvt:pro -o node=@^2:^1:/2/2/2/1/1/2
bspc rule -a mpv:toonami -o node=@^2:^1:/2/2/2/2

##LAUNCH APPS
urxvtc -name "ranger" -title "ranger" -e ranger --selectfile=Pictures/sbpt.png &
mpv --x11-name="pc" --title="pc" ~/Videos/pc.mp4 &
c-nvtop &
c-gotop -h &
mpv --x11-name="gifs" --title="gifs" ~/Videos/1.mov &
vim-sessions -main &
sleep .3s; message &
sleep .3s; urxvtc -name "matrix" -title "matrix" -bg 000000 -e sh -c "sleep .2s; cmatrix -u 7" &
urxvtc -name "pro" -title "pro" -e sh -c "sudo protonvpn c -f & mpv --x11-name=toonami --title=toonami ~/Pictures/gifs/mf-toonami.GIF --terminal=no"
fi
